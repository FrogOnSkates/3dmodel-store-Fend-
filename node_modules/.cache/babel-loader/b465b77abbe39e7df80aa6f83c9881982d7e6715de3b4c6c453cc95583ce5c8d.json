{"ast":null,"code":"var _jsxFileName = \"/Users/ahmadbamallee/3dmodel-store/src/ModelList.jsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport sanityClient from './sanityClient';\nimport ModelPopup from './ModelPopup';\nimport { Canvas } from '@react-three/fiber';\nimport { Suspense } from 'react';\nimport { OrbitControls } from '@react-three/drei';\nimport { GLTFLoader } from 'three/examples/jsm/loaders/GLTFLoader';\nimport './index.css';\n\n// Component to render each 3D model in the card\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction ModelViewer({\n  modelUrl,\n  scale\n}) {\n  _s();\n  const [scene, setScene] = useState(null);\n\n  // Define a default scale if none is provided\n  const modelScale = scale && scale.length === 3 ? scale : [0.5, 0.5, 0.5]; // Default scale to make the model smaller\n\n  useEffect(() => {\n    if (modelUrl) {\n      const loader = new GLTFLoader();\n      loader.load(modelUrl, gltf => {\n        setScene(gltf.scene);\n      }, undefined, error => {\n        console.error(\"Error loading model:\", error);\n      });\n    }\n  }, [modelUrl]);\n  if (!scene) return /*#__PURE__*/_jsxDEV(\"p\", {\n    children: \"Loading model...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 33,\n    columnNumber: 22\n  }, this);\n  return /*#__PURE__*/_jsxDEV(Canvas, {\n    camera: {\n      position: [0, 0, 10],\n      fov: 50\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"ambientLight\", {\n      intensity: 0.8\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"directionalLight\", {\n      position: [5, 5, 5],\n      intensity: 1\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Suspense, {\n      fallback: null,\n      children: [/*#__PURE__*/_jsxDEV(\"primitive\", {\n        object: scene,\n        scale: modelScale\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 9\n      }, this), \" \"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(OrbitControls, {\n      enableZoom: false,\n      maxPolarAngle: Math.PI / 2,\n      minPolarAngle: Math.PI / 2\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 36,\n    columnNumber: 5\n  }, this);\n}\n_s(ModelViewer, \"2MZ0nfQtt9BexsA95c/2FrGmf6Y=\");\n_c = ModelViewer;\nexport default function ModelList() {\n  _s2();\n  const [models, setModels] = useState([]);\n  const [selectedModel, setSelectedModel] = useState(null);\n  useEffect(() => {\n    sanityClient.fetch(`*[_type == \"threeDModel\"]{\n        _id,\n        title,\n        description,\n        \"modelUrl\": modelFile.asset->url,\n        \"thumbnailUrl\": thumbnail.asset->url,\n        rotation,\n        scale\n      }`).then(data => {\n      console.log(\"Fetched models with URLs:\", data);\n      setModels(data);\n    }).catch(error => console.error(\"Error fetching models:\", error));\n  }, []);\n  if (models.length === 0) {\n    return /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"No models found.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 12\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"model-list\",\n    children: [models.map(model => /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"model-card\",\n      onClick: () => setSelectedModel(model),\n      children: [model.modelUrl ? /*#__PURE__*/_jsxDEV(ModelViewer, {\n        modelUrl: model.modelUrl\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 13\n      }, this) : model.thumbnailUrl && /*#__PURE__*/_jsxDEV(\"img\", {\n        src: model.thumbnailUrl,\n        alt: model.title,\n        className: \"model-thumbnail\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 15\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"model-info\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"model-title\",\n          children: model.title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"model-description\",\n          children: model.description\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 11\n      }, this)]\n    }, model._id, true, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 9\n    }, this)), selectedModel && /*#__PURE__*/_jsxDEV(ModelPopup, {\n      isOpen: true,\n      onClose: () => setSelectedModel(null),\n      modelTitle: selectedModel.title,\n      modelUrl: selectedModel.modelUrl\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 75,\n    columnNumber: 5\n  }, this);\n}\n_s2(ModelList, \"c0+kvFlTCbDkVSW/gxoREhOYDy8=\");\n_c2 = ModelList;\nvar _c, _c2;\n$RefreshReg$(_c, \"ModelViewer\");\n$RefreshReg$(_c2, \"ModelList\");","map":{"version":3,"names":["React","useState","useEffect","sanityClient","ModelPopup","Canvas","Suspense","OrbitControls","GLTFLoader","jsxDEV","_jsxDEV","ModelViewer","modelUrl","scale","_s","scene","setScene","modelScale","length","loader","load","gltf","undefined","error","console","children","fileName","_jsxFileName","lineNumber","columnNumber","camera","position","fov","intensity","fallback","object","enableZoom","maxPolarAngle","Math","PI","minPolarAngle","_c","ModelList","_s2","models","setModels","selectedModel","setSelectedModel","fetch","then","data","log","catch","className","map","model","onClick","thumbnailUrl","src","alt","title","description","_id","isOpen","onClose","modelTitle","_c2","$RefreshReg$"],"sources":["/Users/ahmadbamallee/3dmodel-store/src/ModelList.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport sanityClient from './sanityClient';\nimport ModelPopup from './ModelPopup';\nimport { Canvas } from '@react-three/fiber';\nimport { Suspense } from 'react';\nimport { OrbitControls } from '@react-three/drei';\nimport { GLTFLoader } from 'three/examples/jsm/loaders/GLTFLoader';\nimport './index.css';\n\n// Component to render each 3D model in the card\nfunction ModelViewer({ modelUrl, scale }) {\n  const [scene, setScene] = useState(null);\n\n  // Define a default scale if none is provided\n  const modelScale = scale && scale.length === 3 ? scale : [0.5, 0.5, 0.5]; // Default scale to make the model smaller\n\n  useEffect(() => {\n    if (modelUrl) {\n      const loader = new GLTFLoader();\n      loader.load(\n        modelUrl,\n        (gltf) => {\n          setScene(gltf.scene);\n        },\n        undefined,\n        (error) => {\n          console.error(\"Error loading model:\", error);\n        }\n      );\n    }\n  }, [modelUrl]);\n\n  if (!scene) return <p>Loading model...</p>;\n\n  return (\n    <Canvas camera={{ position: [0, 0, 10], fov: 50 }}>\n      <ambientLight intensity={0.8} />\n      <directionalLight position={[5, 5, 5]} intensity={1} />\n      <Suspense fallback={null}>\n        <primitive object={scene} scale={modelScale} /> {/* Apply scale */}\n      </Suspense>\n      <OrbitControls enableZoom={false} maxPolarAngle={Math.PI / 2} minPolarAngle={Math.PI / 2} />\n    </Canvas>\n  );\n}\n\n\nexport default function ModelList() {\n  const [models, setModels] = useState([]);\n  const [selectedModel, setSelectedModel] = useState(null);\n\n  useEffect(() => {\n    sanityClient\n      .fetch(`*[_type == \"threeDModel\"]{\n        _id,\n        title,\n        description,\n        \"modelUrl\": modelFile.asset->url,\n        \"thumbnailUrl\": thumbnail.asset->url,\n        rotation,\n        scale\n      }`)\n      .then((data) => {\n        console.log(\"Fetched models with URLs:\", data);\n        setModels(data);\n      })\n      .catch((error) => console.error(\"Error fetching models:\", error));\n  }, []);\n\n  if (models.length === 0) {\n    return <p>No models found.</p>;\n  }\n\n  return (\n    <div className=\"model-list\">\n      {models.map((model) => (\n        <div\n          key={model._id}\n          className=\"model-card\"\n          onClick={() => setSelectedModel(model)}\n        >\n          {/* Display either the 3D model or the thumbnail if available */}\n          {model.modelUrl ? (\n            <ModelViewer modelUrl={model.modelUrl} />\n          ) : (\n            model.thumbnailUrl && (\n              <img src={model.thumbnailUrl} alt={model.title} className=\"model-thumbnail\" />\n            )\n          )}\n          <div className=\"model-info\">\n            <h3 className=\"model-title\">{model.title}</h3>\n            <p className=\"model-description\">{model.description}</p>\n          </div>\n        </div>\n      ))}\n      {selectedModel && (\n        <ModelPopup\n          isOpen={true}\n          onClose={() => setSelectedModel(null)}\n          modelTitle={selectedModel.title}\n          modelUrl={selectedModel.modelUrl}\n        />\n      )}\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}