{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Canvas}from'@react-three/fiber';import{Suspense}from'react';import{OrbitControls}from'@react-three/drei';import{GLTFLoader}from'three/examples/jsm/loaders/GLTFLoader';import emailjs from'emailjs-com';import SuccessPopup from'./SuccessPopup';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function ModelPopup(_ref){let{isOpen,onClose,modelTitle,modelUrl,scale}=_ref;const[formData,setFormData]=useState({name:'',email:'',message:`I am interested in learning more about the ${modelTitle} model.`});const[showSuccessPopup,setShowSuccessPopup]=useState(false);const[scene,setScene]=useState(null);// Define a default scale if none is provided\nconst modelScale=scale&&scale.length===3?scale:[0.5,0.5,0.5];useEffect(()=>{if(modelUrl){const loader=new GLTFLoader();loader.load(modelUrl,gltf=>{setScene(gltf.scene);},undefined,error=>{console.error(\"Error loading model:\",error);});}},[modelUrl]);if(!isOpen||!scene)return null;const handleInputChange=e=>{const{name,value}=e.target;setFormData(prevData=>({...prevData,[name]:value}));};const handleSubmit=e=>{e.preventDefault();const dataToSend={name:formData.name,email:formData.email,message:formData.message,modelTitle:modelTitle};// Send data via EmailJS\nemailjs.send('service_ghmawzk',// Your EmailJS Service ID\n'template_lngf4ha',// Your EmailJS Template ID\ndataToSend,'vQzJadpgiPC6d6NLc'// Your EmailJS Public Key\n).then(result=>{console.log('Email successfully sent!',result.text);setShowSuccessPopup(true);setFormData({name:'',email:'',message:`I am interested in learning more about the ${modelTitle} model.`});},error=>{console.error('There was an error sending the email:',error);alert('Failed to send enquiry. Please try again later.');});};return/*#__PURE__*/_jsxs(\"div\",{className:\"popup\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"popup-content\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"closebutton\",onClick:onClose,children:\"Close\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"popup-body\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"model-view\",children:[/*#__PURE__*/_jsx(\"h2\",{children:modelTitle}),/*#__PURE__*/_jsxs(Canvas,{camera:{position:[0,0,7],fov:45},children:[/*#__PURE__*/_jsx(\"ambientLight\",{intensity:0.8}),/*#__PURE__*/_jsx(\"directionalLight\",{position:[5,5,5],intensity:1}),/*#__PURE__*/_jsx(Suspense,{fallback:/*#__PURE__*/_jsx(\"span\",{children:\"Loading model...\"}),children:/*#__PURE__*/_jsx(\"primitive\",{object:scene,scale:modelScale})}),/*#__PURE__*/_jsx(OrbitControls,{enableZoom:true})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"enquiry-form\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Enquiry Form\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"label\",{children:[\"Name:\",/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"name\",value:formData.name,onChange:handleInputChange,required:true})]}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Email:\",/*#__PURE__*/_jsx(\"input\",{type:\"email\",name:\"email\",value:formData.email,onChange:handleInputChange,required:true})]}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Message:\",/*#__PURE__*/_jsx(\"textarea\",{name:\"message\",value:formData.message,onChange:handleInputChange})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Send Enquiry\"})]})]})]})]}),showSuccessPopup&&/*#__PURE__*/_jsx(SuccessPopup,{message:\"Your enquiry has been sent successfully!\",onClose:()=>setShowSuccessPopup(false)})]});}","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}