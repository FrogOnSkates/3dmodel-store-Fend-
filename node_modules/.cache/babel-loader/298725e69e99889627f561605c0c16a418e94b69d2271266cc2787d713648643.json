{"ast":null,"code":"var _jsxFileName = \"/Users/ahmadbamallee/3dmodel-store/src/ModelList.jsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport sanityClient, { urlFor } from './sanityClient';\nimport ModelPopup from './ModelPopup';\nimport { Canvas } from '@react-three/fiber';\nimport { Suspense } from 'react';\nimport { OrbitControls } from '@react-three/drei';\nimport { GLTFLoader } from 'three/examples/jsm/loaders/GLTFLoader';\nimport './index.css';\n\n// Component to render each 3D model in the card\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction ModelViewer({\n  modelUrl\n}) {\n  _s();\n  const [scene, setScene] = useState(null);\n  useEffect(() => {\n    if (modelUrl) {\n      const loader = new GLTFLoader();\n      loader.load(modelUrl, gltf => {\n        setScene(gltf.scene);\n      }, undefined, error => {\n        console.error(\"Error loading model:\", error);\n      });\n    }\n  }, [modelUrl]);\n  if (!scene) return /*#__PURE__*/_jsxDEV(\"p\", {\n    children: \"Loading model...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 30,\n    columnNumber: 22\n  }, this);\n  return /*#__PURE__*/_jsxDEV(Canvas, {\n    camera: {\n      position: [0, 0, 3],\n      fov: 50\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"ambientLight\", {\n      intensity: 0.8\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"directionalLight\", {\n      position: [5, 5, 5],\n      intensity: 1\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Suspense, {\n      fallback: null,\n      children: /*#__PURE__*/_jsxDEV(\"primitive\", {\n        object: scene\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(OrbitControls, {\n      enableZoom: false\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 7\n    }, this), \" \"]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 33,\n    columnNumber: 5\n  }, this);\n}\n_s(ModelViewer, \"2MZ0nfQtt9BexsA95c/2FrGmf6Y=\");\n_c = ModelViewer;\nexport default function ModelList() {\n  _s2();\n  var _selectedModel$modelF, _selectedModel$modelF2;\n  const [models, setModels] = useState([]);\n  const [selectedModel, setSelectedModel] = useState(null);\n  useEffect(() => {\n    sanityClient.fetch('*[_type == \"threeDModel\"]{_id, title, description, modelFile}').then(data => {\n      console.log(\"Fetched models:\", data); // Log fetched data to confirm\n      setModels(data);\n    }).catch(error => console.error(\"Error fetching models:\", error));\n  }, []);\n  if (models.length === 0) {\n    return /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"No models found.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 12\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"model-list\",\n    children: [models.map(model => {\n      var _model$modelFile, _model$modelFile$asse;\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"model-card\",\n        onClick: () => {\n          console.log(\"Clicked model:\", model);\n          setSelectedModel(model);\n        },\n        children: [(_model$modelFile = model.modelFile) !== null && _model$modelFile !== void 0 && (_model$modelFile$asse = _model$modelFile.asset) !== null && _model$modelFile$asse !== void 0 && _model$modelFile$asse.url ? /*#__PURE__*/_jsxDEV(ModelViewer, {\n          modelUrl: model.modelFile.asset.url\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Model not available\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"model-info\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"model-title\",\n            children: model.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"model-description\",\n            children: model.description\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 11\n        }, this)]\n      }, model._id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this);\n    }), selectedModel && /*#__PURE__*/_jsxDEV(ModelPopup, {\n      isOpen: true,\n      onClose: () => setSelectedModel(null),\n      modelTitle: selectedModel.title,\n      modelUrl: (_selectedModel$modelF = selectedModel.modelFile) === null || _selectedModel$modelF === void 0 ? void 0 : (_selectedModel$modelF2 = _selectedModel$modelF.asset) === null || _selectedModel$modelF2 === void 0 ? void 0 : _selectedModel$modelF2.url\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 63,\n    columnNumber: 5\n  }, this);\n}\n_s2(ModelList, \"c0+kvFlTCbDkVSW/gxoREhOYDy8=\");\n_c2 = ModelList;\nvar _c, _c2;\n$RefreshReg$(_c, \"ModelViewer\");\n$RefreshReg$(_c2, \"ModelList\");","map":{"version":3,"names":["React","useState","useEffect","sanityClient","urlFor","ModelPopup","Canvas","Suspense","OrbitControls","GLTFLoader","jsxDEV","_jsxDEV","ModelViewer","modelUrl","_s","scene","setScene","loader","load","gltf","undefined","error","console","children","fileName","_jsxFileName","lineNumber","columnNumber","camera","position","fov","intensity","fallback","object","enableZoom","_c","ModelList","_s2","_selectedModel$modelF","_selectedModel$modelF2","models","setModels","selectedModel","setSelectedModel","fetch","then","data","log","catch","length","className","map","model","_model$modelFile","_model$modelFile$asse","onClick","modelFile","asset","url","title","description","_id","isOpen","onClose","modelTitle","_c2","$RefreshReg$"],"sources":["/Users/ahmadbamallee/3dmodel-store/src/ModelList.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport sanityClient, { urlFor } from './sanityClient';\nimport ModelPopup from './ModelPopup';\nimport { Canvas } from '@react-three/fiber';\nimport { Suspense } from 'react';\nimport { OrbitControls } from '@react-three/drei';\nimport { GLTFLoader } from 'three/examples/jsm/loaders/GLTFLoader';\nimport './index.css';\n\n// Component to render each 3D model in the card\nfunction ModelViewer({ modelUrl }) {\n  const [scene, setScene] = useState(null);\n\n  useEffect(() => {\n    if (modelUrl) {\n      const loader = new GLTFLoader();\n      loader.load(\n        modelUrl,\n        (gltf) => {\n          setScene(gltf.scene);\n        },\n        undefined,\n        (error) => {\n          console.error(\"Error loading model:\", error);\n        }\n      );\n    }\n  }, [modelUrl]);\n\n  if (!scene) return <p>Loading model...</p>;\n\n  return (\n    <Canvas camera={{ position: [0, 0, 3], fov: 50 }}>\n      <ambientLight intensity={0.8} />\n      <directionalLight position={[5, 5, 5]} intensity={1} />\n      <Suspense fallback={null}>\n        <primitive object={scene} />\n      </Suspense>\n      <OrbitControls enableZoom={false} /> {/* Optional: disable zoom in cards */}\n    </Canvas>\n  );\n}\n\nexport default function ModelList() {\n  const [models, setModels] = useState([]);\n  const [selectedModel, setSelectedModel] = useState(null);\n\n  useEffect(() => {\n    sanityClient\n      .fetch('*[_type == \"threeDModel\"]{_id, title, description, modelFile}')\n      .then((data) => {\n        console.log(\"Fetched models:\", data); // Log fetched data to confirm\n        setModels(data);\n      })\n      .catch((error) => console.error(\"Error fetching models:\", error));\n  }, []);\n\n  if (models.length === 0) {\n    return <p>No models found.</p>;\n  }\n\n  return (\n    <div className=\"model-list\">\n      {models.map((model) => (\n        <div\n          key={model._id}\n          className=\"model-card\"\n          onClick={() => {\n            console.log(\"Clicked model:\", model);\n            setSelectedModel(model);\n          }}\n        >\n          {model.modelFile?.asset?.url ? (\n            <ModelViewer modelUrl={model.modelFile.asset.url} />\n          ) : (\n            <p>Model not available</p>\n          )}\n          <div className=\"model-info\">\n            <h3 className=\"model-title\">{model.title}</h3>\n            <p className=\"model-description\">{model.description}</p>\n          </div>\n        </div>\n      ))}\n      {selectedModel && (\n        <ModelPopup\n          isOpen={true}\n          onClose={() => setSelectedModel(null)}\n          modelTitle={selectedModel.title}\n          modelUrl={selectedModel.modelFile?.asset?.url}\n        />\n      )}\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}