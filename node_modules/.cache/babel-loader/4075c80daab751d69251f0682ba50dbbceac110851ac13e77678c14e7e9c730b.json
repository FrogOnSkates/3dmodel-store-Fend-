{"ast":null,"code":"var _jsxFileName = \"/Users/ahmadbamallee/3dmodel-store/src/ModelList.jsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport sanityClient from './sanityClient';\nimport ModelPopup from './ModelPopup';\nimport { Canvas } from '@react-three/fiber';\nimport { Suspense } from 'react';\nimport { OrbitControls } from '@react-three/drei';\nimport { GLTFLoader } from 'three/examples/jsm/loaders/GLTFLoader';\nimport './index.css';\n\n// Component to render each 3D model in the card\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction ModelViewer({\n  modelUrl\n}) {\n  _s();\n  const [scene, setScene] = useState(null);\n  useEffect(() => {\n    if (modelUrl) {\n      const loader = new GLTFLoader();\n      loader.load(modelUrl, gltf => {\n        setScene(gltf.scene);\n      }, undefined, error => {\n        console.error(\"Error loading model:\", error);\n      });\n    }\n  }, [modelUrl]);\n  if (!scene) return /*#__PURE__*/_jsxDEV(\"p\", {\n    children: \"Loading model...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 30,\n    columnNumber: 22\n  }, this);\n  return /*#__PURE__*/_jsxDEV(Canvas, {\n    camera: {\n      position: [0, 0, 3],\n      fov: 50\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"ambientLight\", {\n      intensity: 0.8\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"directionalLight\", {\n      position: [5, 5, 5],\n      intensity: 1\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Suspense, {\n      fallback: null,\n      children: /*#__PURE__*/_jsxDEV(\"primitive\", {\n        object: scene\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(OrbitControls, {\n      enableZoom: false\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 33,\n    columnNumber: 5\n  }, this);\n}\n_s(ModelViewer, \"2MZ0nfQtt9BexsA95c/2FrGmf6Y=\");\n_c = ModelViewer;\nexport default function ModelList() {\n  _s2();\n  const [models, setModels] = useState([]);\n  const [selectedModel, setSelectedModel] = useState(null);\n  useEffect(() => {\n    sanityClient.fetch(`*[_type == \"threeDModel\"]{\n        _id,\n        title,\n        description,\n        \"modelUrl\": modelFile.asset->url,\n        \"thumbnailUrl\": thumbnail.asset->url,\n        rotation,\n        scale\n      }`).then(data => {\n      console.log(\"Fetched models with URLs:\", data);\n      setModels(data);\n    }).catch(error => console.error(\"Error fetching models:\", error));\n  }, []);\n  if (models.length === 0) {\n    return /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"No models found.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 12\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"model-list\",\n    children: [models.map(model => /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"model-card\",\n      onClick: () => setSelectedModel(model),\n      children: [model.modelUrl ? /*#__PURE__*/_jsxDEV(ModelViewer, {\n        modelUrl: model.modelUrl\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 13\n      }, this) : /*#__PURE__*/_jsxDEV(\"img\", {\n        src: model.thumbnailUrl,\n        alt: model.title,\n        className: \"model-thumbnail\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"model-info\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"model-title\",\n          children: model.title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"model-description\",\n          children: model.description\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 11\n      }, this)]\n    }, model._id, true, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 9\n    }, this)), selectedModel && /*#__PURE__*/_jsxDEV(ModelPopup, {\n      isOpen: true,\n      onClose: () => setSelectedModel(null),\n      modelTitle: selectedModel.title,\n      modelUrl: selectedModel.modelUrl\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 71,\n    columnNumber: 5\n  }, this);\n}\n_s2(ModelList, \"c0+kvFlTCbDkVSW/gxoREhOYDy8=\");\n_c2 = ModelList;\nvar _c, _c2;\n$RefreshReg$(_c, \"ModelViewer\");\n$RefreshReg$(_c2, \"ModelList\");","map":{"version":3,"names":["React","useState","useEffect","sanityClient","ModelPopup","Canvas","Suspense","OrbitControls","GLTFLoader","jsxDEV","_jsxDEV","ModelViewer","modelUrl","_s","scene","setScene","loader","load","gltf","undefined","error","console","children","fileName","_jsxFileName","lineNumber","columnNumber","camera","position","fov","intensity","fallback","object","enableZoom","_c","ModelList","_s2","models","setModels","selectedModel","setSelectedModel","fetch","then","data","log","catch","length","className","map","model","onClick","src","thumbnailUrl","alt","title","description","_id","isOpen","onClose","modelTitle","_c2","$RefreshReg$"],"sources":["/Users/ahmadbamallee/3dmodel-store/src/ModelList.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport sanityClient from './sanityClient';\nimport ModelPopup from './ModelPopup';\nimport { Canvas } from '@react-three/fiber';\nimport { Suspense } from 'react';\nimport { OrbitControls } from '@react-three/drei';\nimport { GLTFLoader } from 'three/examples/jsm/loaders/GLTFLoader';\nimport './index.css';\n\n// Component to render each 3D model in the card\nfunction ModelViewer({ modelUrl }) {\n  const [scene, setScene] = useState(null);\n\n  useEffect(() => {\n    if (modelUrl) {\n      const loader = new GLTFLoader();\n      loader.load(\n        modelUrl,\n        (gltf) => {\n          setScene(gltf.scene);\n        },\n        undefined,\n        (error) => {\n          console.error(\"Error loading model:\", error);\n        }\n      );\n    }\n  }, [modelUrl]);\n\n  if (!scene) return <p>Loading model...</p>;\n\n  return (\n    <Canvas camera={{ position: [0, 0, 3], fov: 50 }}>\n      <ambientLight intensity={0.8} />\n      <directionalLight position={[5, 5, 5]} intensity={1} />\n      <Suspense fallback={null}>\n        <primitive object={scene} />\n      </Suspense>\n      <OrbitControls enableZoom={false} />\n    </Canvas>\n  );\n}\n\nexport default function ModelList() {\n  const [models, setModels] = useState([]);\n  const [selectedModel, setSelectedModel] = useState(null);\n\n  useEffect(() => {\n    sanityClient\n      .fetch(`*[_type == \"threeDModel\"]{\n        _id,\n        title,\n        description,\n        \"modelUrl\": modelFile.asset->url,\n        \"thumbnailUrl\": thumbnail.asset->url,\n        rotation,\n        scale\n      }`)\n      .then((data) => {\n        console.log(\"Fetched models with URLs:\", data);\n        setModels(data);\n      })\n      .catch((error) => console.error(\"Error fetching models:\", error));\n  }, []);\n\n  if (models.length === 0) {\n    return <p>No models found.</p>;\n  }\n\n  return (\n    <div className=\"model-list\">\n      {models.map((model) => (\n        <div\n          key={model._id}\n          className=\"model-card\"\n          onClick={() => setSelectedModel(model)}\n        >\n          {/* Display the model viewer if modelUrl is available */}\n          {model.modelUrl ? (\n            <ModelViewer modelUrl={model.modelUrl} />\n          ) : (\n            <img src={model.thumbnailUrl} alt={model.title} className=\"model-thumbnail\" />\n          )}\n          <div className=\"model-info\">\n            <h3 className=\"model-title\">{model.title}</h3>\n            <p className=\"model-description\">{model.description}</p>\n          </div>\n        </div>\n      ))}\n      {selectedModel && (\n        <ModelPopup\n          isOpen={true}\n          onClose={() => setSelectedModel(null)}\n          modelTitle={selectedModel.title}\n          modelUrl={selectedModel.modelUrl}\n        />\n      )}\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}